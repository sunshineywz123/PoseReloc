trainer:
  _target_: pytorch_lightning.Trainer
  gpus: 0
  min_epochs: 1
  max_epochs: 10
  gradient_clip_val: 0.5
  num_sanity_val_steps: 3
  progress_bar_refresh_rate: 20
  weights_summary: null
  default_root_dir: lightning_logs/
model:
  _target_: src.models.mnist_model.LitModelMNIST
  optimizer: adam
  lr: 0.001
  weight_decay: 5.0e-05
  architecture: SimpleDenseNet
  input_size: 784
  lin1_size: 256
  dropout1: 0.3
  lin2_size: 256
  dropout2: 0.25
  lin3_size: 128
  dropout3: 0.2
  output_size: 10
datamodule:
  _target_: src.datamodules.mnist_datamodule.MNISTDataModule
  data_dir: ${data_dir}
  batch_size: 64
  train_val_test_split:
  - 55000
  - 5000
  - 10000
  num_workers: 0
  pin_memory: false
callbacks:
  model_checkpoint:
    _target_: pytorch_lightning.callbacks.ModelCheckpoint
    monitor: val/acc
    save_top_k: 2
    save_last: true
    mode: max
    dirpath: checkpoints/
    filename: '{epoch:02d}'
  early_stopping:
    _target_: pytorch_lightning.callbacks.EarlyStopping
    monitor: val/acc
    patience: 100
    mode: max
    min_delta: 0.0
work_dir: ${hydra:runtime.cwd}
data_dir: ${work_dir}/data
print_config: true
type: sfm
data_base_dir: /cephfs-mvs/3dv-research/hexingyi/nips_data_release/OnePose_LowTexture
output_base_dir: /cephfs-mvs/3dv-research/hexingyi/onepose_sfm_release_test_covis10
match_type: softmax
enable_post_refine: false
overwrite_all: false
overwrite_coarse: false
overwrite_fine: false
use_global_ray: false
use_local_ray: false
debug: true
full_img: false
ray:
  slurm: false
  n_workers: 7
  n_cpus_per_worker: 5
  n_gpus_per_worker: 1
  local_mode: false
dataset:
  max_num_kp3d: 15000
  max_num_kp2d: 10000
  data_dir: ${data_base_dir}
  top_k_obj: null
  num_seq: 1
  ids:
  - '0603'
  exception_obj_names:
  - null
  outputs_dir: ${output_base_dir}
network:
  detection: loftr
  detection_model_path: weight/superpoint_v1.pth
  matching: loftr
  matching_model_path: weight/superglue_outdoor.pth
sfm:
  gen_cov_from: index
  down_ratio: 5
  gap: 3
  covis_num: 10
  track_length: 8
post_optim:
  coarse_recon_data:
    feature_track_assignment_strategy: greedy
  optimizer:
    solver_type: SecondOrder
    residual_mode: geometry_error
    optimize_lr:
      depth: 0.03
post_process:
  filter_bbox_before_filter_track_length: true
  skip_bbox_filter: false
verbose: true
disable_lightning_logs: true
